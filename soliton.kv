WindowManager:
    FirstWindow:
    SecondWindow:
    Node1Window:
    Node2Window:
    Node3Window:
    Node4Window:
    Node5Window:
    Node6Window:





<FirstWindow>:
    name: "main"


    FloatLayout:

        canvas.before:
            Color:
                rgb:1,1,1
            Rectangle:
                size:root.size

        
        FloatLayout:
            size_hint:1,0.12
            pos_hint:{"x":0,"top":1}
            
            canvas.before:
                Color:
                    rgb:0.27,0.5,0.92
                Rectangle:
                    size:self.size
                    pos:self.pos
                
            Label: #afegim text 
                font_size:40
                text: "QUANTUMLAB UB:   Dark soliton dynamics"  
                multiline: True
                color:1, 1, 1, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0,"top":1}
                valign:"center"
                    
        FloatLayout:
            size_hint:1,0.88
            pos_hint:{"x":0,"top":0.88}

            FloatLayout:
                id:impsit0
                size_hint:0.5,0.8
                pos_hint:{"x":0.04,"y":0.1}


            FloatLayout:
                size_hint:0.35,0.08
                pos_hint:{"x":0.6,"y":0.05}


                Button:
                    size_hint:0.25,1
                    text:"Im. time"
                    font_size:30
                    pos_hint:{"x":0,"y":0}
                    on_release:
                        root.plot_initial()
                        root.ground_state()
                        root.clockkiv1()

                Button:
                    id:next_btn
                    size_hint:0.25,1
                    text:"Next"
                    font_size:30
                    pos_hint:{"x":0.75,"y":0}
                    disabled:True
                    on_release:
                        root.deleteFirstwindow()
                        app.root.current="second"
                        root.manager.transition.direction="left"

            FloatLayout:
                size_hint:0.35,0.08
                pos_hint:{"x":0.57,"y":0.9}


                Label: #afegim text 
                    font_size:30
                    text: "Step 1: Find the GPE ground state" 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"center"
                    halign:"center"

            FloatLayout:
                size_hint:0.35,0.5
                pos_hint:{"x":0.6,"top":0.8}


                Label: #afegim text 
                    font_size:25
                    text: "The GPE ground state is calculated by the split-step method using imaginary time." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "The animation shows how our initial wave function evolve into the ground state." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.7}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Once the ground state is obtained, the user is ready to pass to the next step." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.4}
                    valign:"top"
                    halign:"left"

            FloatLayout:
                size_hint:0.15,0.08
                pos_hint:{"x":0.6,"y":0.25}


                Label: #afegim text 
                    font_size:25
                    text: "Initial wavefunction:" 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"center"
                    halign:"left"

            FloatLayout:
                size_hint:0.15,0.08
                pos_hint:{"x":0.75,"y":0.25}


                Image:
                    source:'images/funcio_inicial.png'
                    pos_hint:{"x":0,"top":1}





<SecondWindow>:
    name:"second"

    FloatLayout:

        canvas.before:
            Color:
                rgb:1,1,1
            Rectangle:
                size:root.size

        
        FloatLayout:
            size_hint:1,0.12
            pos_hint:{"x":0,"top":1}
            
            canvas.before:
                Color:
                    rgb:0.27,0.5,0.92
                Rectangle:
                    size:self.size
                    pos:self.pos
                
            Label: #afegim text 
                font_size:40
                text: "QUANTUMLAB UB:   Dark soliton dynamics"  
                multiline: True
                color:1, 1, 1, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0,"top":1}
                valign:"center"

        FloatLayout:
            size_hint:0.8,0.15
            pos_hint:{"x":0.1,"y":0.6}


            Label:
                font_size:30
                text: "Select the number of solitons:  " 
                multiline: True
                color:0, 0, 0, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0.33,"top":0.6}
                valign:"top"
                halign:"left"

            



        FloatLayout:
            size_hint:0.8,0.4
            pos_hint:{"x":0.1,"y":0.2}

            Button:
                size_hint:0.15,0.2
                pos_hint:{"x":0.11,"top":0.9}
                text:"1 "
                font_size:20
                on_release:
                    app.root.current="node1x"
                    root.manager.transition.direction="left"

            Button:
                size_hint:0.15,0.2
                pos_hint:{"x":0.41,"top":0.9}
                text:"2"
                font_size:20
                on_release:
                    app.root.current="node2x"
                    root.manager.transition.direction="left"
                

            Button:
                size_hint:0.15,0.2
                pos_hint:{"x":0.71,"top":0.9}
                text:"3"
                font_size:20
                on_release:
                    app.root.current="node3x"
                    root.manager.transition.direction="left"

            Button:
                size_hint:0.15,0.2
                pos_hint:{"x":0.11,"y":0.1}
                text:"4 "
                font_size:20
                on_release:
                    app.root.current="node4x"
                    root.manager.transition.direction="left"

            Button:
                size_hint:0.15,0.2
                pos_hint:{"x":0.41,"y":0.1}
                text:"5 "
                font_size:20
                on_release:
                    app.root.current="node5x"
                    root.manager.transition.direction="left"

            Button:
                size_hint:0.15,0.2
                pos_hint:{"x":0.71,"y":0.1}
                text:"6 "
                font_size:20
                on_release:
                    app.root.current="node6x"
                    root.manager.transition.direction="left"
        
        FloatLayout:
            size_hint:0.08,0.07
            pos_hint:{"x":0.04,"y":0.05}

            Button:
                size_hint:1,1
                pos_hint:{"x":0,"y":0}
                text:"Back "
                font_size:30
                on_release:
                    app.root.current="main"
                    root.manager.transition.direction="right"


                
            



<Node1Window>:
    name:"node1x"
    slide_text_n1x1: slide_lab_n1x1
    
    FloatLayout:

        canvas.before:
            Color:
                rgb:1,1,1
            Rectangle:
                size:root.size

        
        FloatLayout:
            size_hint:1,0.12
            pos_hint:{"x":0,"top":1}
            
            canvas.before:
                Color:
                    rgb:0.27,0.5,0.92
                Rectangle:
                    size:self.size
                    pos:self.pos
                
            Label: #afegim text 
                font_size:40
                text: "QUANTUMLAB UB:   Dark soliton dynamics"  
                multiline: True
                color:1, 1, 1, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0,"top":1}
                valign:"center"
                    
        FloatLayout:
            size_hint:1,0.88
            pos_hint:{"x":0,"top":0.88}

            FloatLayout:
                id:impsit_n1
                size_hint:0.5,0.8
                pos_hint:{"x":0.04,"y":0.1}


            FloatLayout:
                size_hint:0.4,0.08
                pos_hint:{"x":0.6,"y":0.05}


                Button:
                    size_hint:0.25,1
                    text:"Back"
                    font_size:25
                    pos_hint:{"x":0,"y":0}
                    on_release:
                        root.deletenode1()
                        app.root.current="second"
                        root.manager.transition.direction="right"
                        

                Button:
                    id:imag_btn_n1
                    size_hint:0.25,1
                    text:"Imag. time"
                    font_size:25
                    pos_hint:{"x":0.35,"y":0}
                    disabled:True
                    on_release:
                        root.ground_state_n1()
                        root.imagtime_n1()
                        root.clock_n1_v1()

                Button:
                    id:evol_btn_n1
                    size_hint:0.25,1
                    text:"Time evol."
                    font_size:25
                    pos_hint:{"x":0.7,"y":0}
                    disabled:True
                    on_release:
                        root.timeevol_n1()
                        root.clock_n1_v2()
            

            FloatLayout:
                size_hint:0.35,0.08
                pos_hint:{"x":0.56,"y":0.85}


                Label: #afegim text 
                    font_size:30
                    text: "Step 2: Dark soliton" 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"center"
                    halign:"center"

            FloatLayout:
                size_hint:0.35,0.3
                pos_hint:{"x":0.6,"y":0.5}


                Label: #afegim text 
                    font_size:25
                    text: "First select the node position. " 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Evolve with imaginary time to get the dark soliton." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.8}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Press time evolve to see  the dark soliton dynamic." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.45}
                    valign:"top"
                    halign:"left"

            FloatLayout:

                size_hint:0.35,0.3
                pos_hint:{"x":0.6,"y":0.16}


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.3,"top":0.8}
                    color:0, 0, 0, 1
                    text:"Node 1:"

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.5,"top":0.8}
                    id:slide_lab_n1x1
                    color:0, 0, 0, 1
                    text:root.slide_text_n1x1.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-6
                    max:6
                    step:0.01
                    orientation:"horizontal"
                    value:0
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n1_x1(*args)








<Node2Window>:
    name:"node2x"
    slide_text_n2x1: slide_lab_n2x1
    slide_text_n2x2: slide_lab_n2x2
    
    FloatLayout:

        canvas.before:
            Color:
                rgb:1,1,1
            Rectangle:
                size:root.size

        
        FloatLayout:
            size_hint:1,0.12
            pos_hint:{"x":0,"top":1}
            
            canvas.before:
                Color:
                    rgb:0.27,0.5,0.92
                Rectangle:
                    size:self.size
                    pos:self.pos
                
            Label: #afegim text 
                font_size:40
                text: "QUANTUMLAB UB:   Dark soliton dynamics"  
                multiline: True
                color:1, 1, 1, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0,"top":1}
                valign:"center"
                    
        FloatLayout:
            size_hint:1,0.88
            pos_hint:{"x":0,"top":0.88}

            FloatLayout:
                id:impsit_n2
                size_hint:0.5,0.8
                pos_hint:{"x":0.04,"y":0.1}


            FloatLayout:
                size_hint:0.4,0.08
                pos_hint:{"x":0.6,"y":0.05}


                Button:
                    size_hint:0.25,1
                    text:"Back"
                    font_size:30
                    pos_hint:{"x":0,"y":0}
                    on_release:
                        root.deletenode2()
                        app.root.current="second"
                        root.manager.transition.direction="right"
                        

                Button:
                    id:imag_btn_n2
                    size_hint:0.25,1
                    text:"Imag. time"
                    font_size:25
                    pos_hint:{"x":0.35,"y":0}
                    disabled:True
                    on_release:
                        root.ground_state_n2()
                        root.imagtime_n2()
                        root.clock_n2_v1()

                Button:
                    id:evol_btn_n2
                    size_hint:0.25,1
                    text:"Time evol."
                    font_size:25
                    pos_hint:{"x":0.7,"y":0}
                    disabled:True
                    on_release:
                        root.timeevol_n2()
                        root.clock_n2_v2()
            

            FloatLayout:
                size_hint:0.35,0.08
                pos_hint:{"x":0.56,"y":0.85}


                Label: #afegim text 
                    font_size:30
                    text: "Step 2: Dark soliton" 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"center"
                    halign:"center"

            FloatLayout:
                size_hint:0.35,0.3
                pos_hint:{"x":0.6,"y":0.5}


                Label: #afegim text 
                    font_size:25
                    text: "First select the node position. " 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Evolve with imaginary time to get the dark soliton." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.8}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Press time evolve to see  the dark soliton dynamic." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.45}
                    valign:"top"
                    halign:"left"

            FloatLayout:

                size_hint:0.35,0.15
                pos_hint:{"x":0.6,"top":0.45}


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.3,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 1:"

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.5,"top":1}
                    id:slide_lab_n2x1
                    color:0, 0, 0, 1
                    text:root.slide_text_n2x1.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-6
                    max:-1
                    step:0.01
                    orientation:"horizontal"
                    value:-3.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n2_x1(*args)

            FloatLayout:
                size_hint:0.35,0.15
                pos_hint:{"x":0.6,"top":0.3}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.3,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 2:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.5,"top":1}
                    id:slide_lab_n2x2
                    color:0, 0, 0, 1
                    text:root.slide_text_n2x2.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:0
                    max:6
                    step:0.01
                    orientation:"horizontal"
                    value:3
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n2_x2(*args)       










<Node3Window>:
    name:"node3x"
    slide_text_n3x1: slide_lab_n3x1
    slide_text_n3x2: slide_lab_n3x2
    slide_text_n3x3: slide_lab_n3x3
    
    
    FloatLayout:

        canvas.before:
            Color:
                rgb:1,1,1
            Rectangle:
                size:root.size

        
        FloatLayout:
            size_hint:1,0.12
            pos_hint:{"x":0,"top":1}
            
            canvas.before:
                Color:
                    rgb:0.27,0.5,0.92
                Rectangle:
                    size:self.size
                    pos:self.pos
                
            Label: #afegim text 
                font_size:40
                text: "QUANTUMLAB UB:   Dark soliton dynamics"  
                multiline: True
                color:1, 1, 1, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0,"top":1}
                valign:"center"
                    
        FloatLayout:
            size_hint:1,0.88
            pos_hint:{"x":0,"top":0.88}

            FloatLayout:
                id:impsit_n3
                size_hint:0.5,0.8
                pos_hint:{"x":0.04,"y":0.1}


            FloatLayout:
                size_hint:0.4,0.08
                pos_hint:{"x":0.6,"y":0.05}


                Button:
                    size_hint:0.25,1
                    text:"Back"
                    font_size:30
                    pos_hint:{"x":0,"y":0}
                    on_release:
                        root.deletenode3()
                        app.root.current="second"
                        root.manager.transition.direction="right"
                        

                Button:
                    id:imag_btn_n3
                    size_hint:0.25,1
                    text:"Imag. time"
                    font_size:25
                    pos_hint:{"x":0.35,"y":0}
                    disabled:True
                    on_release:
                        root.ground_state_n3()
                        root.imagtime_n3()
                        root.clock_n3_v1()

                Button:
                    id:evol_btn_n3
                    size_hint:0.25,1
                    text:"Time evol."
                    font_size:25
                    pos_hint:{"x":0.7,"y":0}
                    disabled:True
                    on_release:
                        root.timeevol_n3()
                        root.clock_n3_v2()
            

            FloatLayout:
                size_hint:0.35,0.08
                pos_hint:{"x":0.56,"y":0.9}


                Label: #afegim text 
                    font_size:30
                    text: "Step 2: Dark soliton" 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"center"
                    halign:"center"

            FloatLayout:
                size_hint:0.35,0.3
                pos_hint:{"x":0.6,"y":0.5}


                Label: #afegim text 
                    font_size:25
                    text: "First select the node position. " 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Evolve with imaginary time to get the dark soliton." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.8}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Press time evolve to see  the dark soliton dynamic." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.45}
                    valign:"top"
                    halign:"left"


            FloatLayout:

                size_hint:0.35,0.15
                pos_hint:{"x":0.6,"top":0.5}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.3,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 1:"

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.5,"top":1}
                    id:slide_lab_n3x1
                    color:0, 0, 0, 1
                    text:root.slide_text_n3x1.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-6
                    max:-3
                    step:0.01
                    orientation:"horizontal"
                    value:-4.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n3_x1(*args)

            FloatLayout:
                size_hint:0.35,0.15
                pos_hint:{"x":0.6,"top":0.4}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.3,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 2:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.5,"top":1}
                    id:slide_lab_n3x2
                    color:0, 0, 0, 1
                    text:root.slide_text_n3x2.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-2
                    max:2
                    step:0.01
                    orientation:"horizontal"
                    value:0
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n3_x2(*args)

            FloatLayout:
                size_hint:0.35,0.15
                pos_hint:{"x":0.6,"top":0.3}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.3,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 3:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.5,"top":1}
                    id:slide_lab_n3x3
                    color:0, 0, 0, 1
                    text:root.slide_text_n3x3.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:3
                    max:6
                    step:0.01
                    orientation:"horizontal"
                    value:4.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n3_x3(*args)       

                

            



<Node4Window>:
    name:"node4x"
    slide_text_n4x1: slide_lab_n4x1
    slide_text_n4x2: slide_lab_n4x2
    slide_text_n4x3: slide_lab_n4x3
    slide_text_n4x4: slide_lab_n4x4

    FloatLayout:

        canvas.before:
            Color:
                rgb:1,1,1
            Rectangle:
                size:root.size

        
        FloatLayout:
            size_hint:1,0.12
            pos_hint:{"x":0,"top":1}
            
            canvas.before:
                Color:
                    rgb:0.27,0.5,0.92
                Rectangle:
                    size:self.size
                    pos:self.pos
                
            Label: #afegim text 
                font_size:40
                text: "QUANTUMLAB UB:   Dark soliton dynamics"  
                multiline: True
                color:1, 1, 1, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0,"top":1}
                valign:"center"
                    
        FloatLayout:
            size_hint:1,0.88
            pos_hint:{"x":0,"top":0.88}

            FloatLayout:
                id:impsit_n4
                size_hint:0.5,0.8
                pos_hint:{"x":0.04,"y":0.1}


            FloatLayout:
                size_hint:0.4,0.08
                pos_hint:{"x":0.6,"y":0.05}


                Button:
                    size_hint:0.25,1
                    text:"Back"
                    font_size:30
                    pos_hint:{"x":0,"y":0}
                    on_release:
                        root.deletenode4()
                        app.root.current="second"
                        root.manager.transition.direction="right"
                        

                Button:
                    id:imag_btn_n4
                    size_hint:0.25,1
                    text:"Imag. time"
                    font_size:25
                    pos_hint:{"x":0.35,"y":0}
                    disabled:True
                    on_release:
                        root.ground_state_n4()
                        root.imagtime_n4()
                        root.clock_n4_v1()

                Button:
                    id:evol_btn_n4
                    size_hint:0.25,1
                    text:"Time evol."
                    font_size:25
                    pos_hint:{"x":0.7,"y":0}
                    disabled:True
                    on_release:
                        root.timeevol_n4()
                        root.clock_n4_v2()
            

            FloatLayout:
                size_hint:0.35,0.08
                pos_hint:{"x":0.56,"y":0.9}


                Label: #afegim text 
                    font_size:30
                    text: "Step 2: Dark soliton" 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"center"
                    halign:"center"

            FloatLayout:
                size_hint:0.35,0.3
                pos_hint:{"x":0.6,"y":0.5}


                Label: #afegim text 
                    font_size:25
                    text: "First select the node position. " 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Evolve with imaginary time to get the dark soliton." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.8}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Press time evolve to see  the dark soliton dynamic." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.45}
                    valign:"top"
                    halign:"left"


            FloatLayout:

                size_hint:0.15,0.15
                pos_hint:{"x":0.6,"top":0.5}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 1:"

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n4x1
                    color:0, 0, 0, 1
                    text:root.slide_text_n4x1.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-6
                    max:-4
                    step:0.01
                    orientation:"horizontal"
                    value:-5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n4_x1(*args)

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.8,"top":0.5}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 2:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n4x2
                    color:0, 0, 0, 1
                    text:root.slide_text_n4x2.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-3
                    max:0
                    step:0.01
                    orientation:"horizontal"
                    value:-1.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n4_x2(*args)

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.6,"top":0.35}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 3:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n4x3
                    color:0, 0, 0, 1
                    text:root.slide_text_n4x3.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:1
                    max:3
                    step:0.01
                    orientation:"horizontal"
                    value:2
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n4_x3(*args) 

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.8,"top":0.35}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 4:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n4x4
                    color:0, 0, 0, 1
                    text:root.slide_text_n4x4.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:4
                    max:6
                    step:0.01
                    orientation:"horizontal"
                    value:5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n4_x4(*args) 
    

<Node5Window>:
    name:"node5x"
    slide_text_n5x1: slide_lab_n5x1
    slide_text_n5x2: slide_lab_n5x2
    slide_text_n5x3: slide_lab_n5x3
    slide_text_n5x4: slide_lab_n5x4
    slide_text_n5x5: slide_lab_n5x5

    FloatLayout:

        canvas.before:
            Color:
                rgb:1,1,1
            Rectangle:
                size:root.size

        
        FloatLayout:
            size_hint:1,0.12
            pos_hint:{"x":0,"top":1}
            
            canvas.before:
                Color:
                    rgb:0.27,0.5,0.92
                Rectangle:
                    size:self.size
                    pos:self.pos
                
            Label: #afegim text 
                font_size:40
                text: "QUANTUMLAB UB:   Dark soliton dynamics"  
                multiline: True
                color:1, 1, 1, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0,"top":1}
                valign:"center"
                    
        FloatLayout:
            size_hint:1,0.88
            pos_hint:{"x":0,"top":0.88}

            FloatLayout:
                id:impsit_n5
                size_hint:0.5,0.8
                pos_hint:{"x":0.04,"y":0.1}


            FloatLayout:
                size_hint:0.4,0.08
                pos_hint:{"x":0.6,"y":0.05}


                Button:
                    size_hint:0.25,1
                    text:"Back"
                    font_size:30
                    pos_hint:{"x":0,"y":0}
                    on_release:
                        root.deletenode5()
                        app.root.current="second"
                        root.manager.transition.direction="right"
                        

                Button:
                    id:imag_btn_n5
                    size_hint:0.25,1
                    text:"Imag. time"
                    font_size:25
                    pos_hint:{"x":0.35,"y":0}
                    disabled:True
                    on_release:
                        root.ground_state_n5()
                        root.imagtime_n5()
                        root.clock_n5_v1()

                Button:
                    id:evol_btn_n5
                    size_hint:0.25,1
                    text:"Time evol."
                    font_size:25
                    pos_hint:{"x":0.7,"y":0}
                    disabled:True
                    on_release:
                        root.timeevol_n5()
                        root.clock_n5_v2()

            

            FloatLayout:
                size_hint:0.35,0.08
                pos_hint:{"x":0.56,"y":0.9}


                Label: #afegim text 
                    font_size:30
                    text: "Step 2: Dark soliton" 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"center"
                    halign:"center"

            FloatLayout:
                size_hint:0.35,0.3
                pos_hint:{"x":0.6,"y":0.55}


                Label: #afegim text 
                    font_size:25
                    text: "First select the node position. " 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Evolve with imaginary time to get the dark soliton." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.8}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Press time evolve to see  the dark soliton dynamic." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.45}
                    valign:"top"
                    halign:"left"


            FloatLayout:

                size_hint:0.15,0.15
                pos_hint:{"x":0.6,"top":0.55}


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 1:"

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n5x1
                    color:0, 0, 0, 1
                    text:root.slide_text_n5x1.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-6
                    max:-4.5
                    step:0.01
                    orientation:"horizontal"
                    value:-5.25
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n5_x1(*args)

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.8,"top":0.55}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 2:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n5x2
                    color:0, 0, 0, 1
                    text:root.slide_text_n5x2.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-3.5
                    max:-2
                    step:0.01
                    orientation:"horizontal"
                    value:-2.75
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n5_x2(*args)

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.6,"top":0.4}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 3:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n5x3
                    color:0, 0, 0, 1
                    text:root.slide_text_n5x3.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-1
                    max:0.5
                    step:0.01
                    orientation:"horizontal"
                    value:-0.25
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n5_x3(*args) 

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.8,"top":0.4}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 4:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n5x4
                    color:0, 0, 0, 1
                    text:root.slide_text_n5x4.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:1.5
                    max:3
                    step:0.01
                    orientation:"horizontal"
                    value:2.25
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n5_x4(*args)

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.6,"top":0.25}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 5:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n5x5
                    color:0, 0, 0, 1
                    text:root.slide_text_n5x5.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:4
                    max:6
                    step:0.01
                    orientation:"horizontal"
                    value:5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n5_x5(*args) 
    

<Node6Window>:
    name:"node6x"
    slide_text_n6x1: slide_lab_n6x1
    slide_text_n6x2: slide_lab_n6x2
    slide_text_n6x3: slide_lab_n6x3
    slide_text_n6x4: slide_lab_n6x4
    slide_text_n6x5: slide_lab_n6x5
    slide_text_n6x6: slide_lab_n6x6


    FloatLayout:

        canvas.before:
            Color:
                rgb:1,1,1
            Rectangle:
                size:root.size

        
        FloatLayout:
            size_hint:1,0.12
            pos_hint:{"x":0,"top":1}
            
            canvas.before:
                Color:
                    rgb:0.27,0.5,0.92
                Rectangle:
                    size:self.size
                    pos:self.pos
                
            Label: #afegim text 
                font_size:40
                text: "QUANTUMLAB UB:   Dark soliton dynamics"  
                multiline: True
                color:1, 1, 1, 1
                italic:True
                text_size:self.size
                pos_hint:{"x":0,"top":1}
                valign:"center"
                    
        FloatLayout:
            size_hint:1,0.88
            pos_hint:{"x":0,"top":0.88}

            FloatLayout:
                id:impsit_n6
                size_hint:0.5,0.8
                pos_hint:{"x":0.04,"y":0.1}


            FloatLayout:
                size_hint:0.4,0.08
                pos_hint:{"x":0.6,"y":0.05}


                Button:
                    size_hint:0.25,1
                    text:"Back"
                    font_size:30
                    pos_hint:{"x":0,"y":0}
                    on_release:
                        root.deletenode6()
                        app.root.current="second"
                        root.manager.transition.direction="right"
                        

                Button:
                    id:imag_btn_n6
                    size_hint:0.25,1
                    text:"Imag. time"
                    font_size:25
                    pos_hint:{"x":0.35,"y":0}
                    disabled:True
                    on_release:
                        root.ground_state_n6()
                        root.imagtime_n6()
                        root.clock_n6_v1()

                Button:
                    id:evol_btn_n6
                    size_hint:0.25,1
                    text:"Time evol."
                    font_size:25
                    pos_hint:{"x":0.7,"y":0}
                    disabled:True
                    on_release:
                        root.timeevol_n6()
                        root.clock_n6_v2()
            

            FloatLayout:
                size_hint:0.35,0.08
                pos_hint:{"x":0.56,"y":0.9}


                Label: #afegim text 
                    font_size:30
                    text: "Step 2: Dark soliton" 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"center"
                    halign:"center"

            FloatLayout:
                size_hint:0.35,0.3
                pos_hint:{"x":0.6,"y":0.55}


                Label: #afegim text 
                    font_size:25
                    text: "First select the node position. " 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":1}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Evolve with imaginary time to get the dark soliton." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.8}
                    valign:"top"
                    halign:"left"

                Label: #afegim text 
                    font_size:25
                    text: "Press time evolve to see  the dark soliton dynamic." 
                    multiline: True
                    color:0, 0, 0, 1
                    italic:True
                    text_size:self.size
                    pos_hint:{"x":0,"top":0.45}
                    valign:"top"
                    halign:"left"



            FloatLayout:

                size_hint:0.15,0.15
                pos_hint:{"x":0.6,"top":0.55}


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 1:"

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n6x1
                    color:0, 0, 0, 1
                    text:root.slide_text_n6x1.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-6
                    max:-5
                    step:0.01
                    orientation:"horizontal"
                    value:-5.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n6_x1(*args)

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.8,"top":0.55}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 2:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n6x2
                    color:0, 0, 0, 1
                    text:root.slide_text_n6x2.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-4
                    max:-3
                    step:0.01
                    orientation:"horizontal"
                    value:-3.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n6_x2(*args)

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.6,"top":0.4}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 3:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n6x3
                    color:0, 0, 0, 1
                    text:root.slide_text_n6x3.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:-2
                    max:-1
                    step:0.01
                    orientation:"horizontal"
                    value:-1.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n6_x3(*args) 

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.8,"top":0.4}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 4:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n6x4
                    color:0, 0, 0, 1
                    text:root.slide_text_n6x4.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:0
                    max:1
                    step:0.01
                    orientation:"horizontal"
                    value:0.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n6_x4(*args)

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.6,"top":0.25}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 5:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n6x5
                    color:0, 0, 0, 1
                    text:root.slide_text_n6x5.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:2
                    max:3
                    step:0.01
                    orientation:"horizontal"
                    value:2.5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n6_x5(*args) 

            FloatLayout:
                size_hint:0.15,0.15
                pos_hint:{"x":0.8,"top":0.25}

                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.25,"top":1}
                    color:0, 0, 0, 1
                    text:"Node 6:"


                Label:
                    font_size:25
                    size_hint:0.2,0.3
                    pos_hint:{"x":0.6,"top":1}
                    id:slide_lab_n6x6
                    color:0, 0, 0, 1
                    text:root.slide_text_n6x6.text


                Slider:
                    size_hint:1,0.5
                    pos_hint:{"x":0,"top":0.7}
                    min:4
                    max:6
                    step:0.01
                    orientation:"horizontal"
                    value:5
                    value_track:True
                    value_track_color:0.27,0.5,0.92,1
                    on_value:root.slide_n6_x6(*args) 





    
            

                

            
        