#:import math math
<entangledscreen>:

    n_label: n_label #MOLT IMPORTANT AIXÒ, SI NO EL PROGRAMA NO SAP DE Q ÉS
    slider1:slider1
    label_s1:label_s1
    label_s2:label_s2
    reps:reps

	orientation: "vertical"
    padding: 20
    spacing: 20

    Widget:
        size_hint: (1, 0.5)
        id: p_rect

    TabbedPanel:
        size_hint: (1, 0.45)
        do_default_tab: False

        TabbedPanelItem: #creem la primera pestanya
        	text: "[b]Quantic\n experiment:[/b]"
        	markup: True

    		BoxLayout:
    			orientation: "horizontal" #el partim en 2 cols grans

    			BoxLayout:
        			orientation:"vertical"
        			Label: 
        				text: "[b]Experiment settings:[/b]"
        				markup: True
        			BoxLayout:
        				orientation: "horizontal"
        				FloatLayout:
        					pos_hint:{'x': 0, 'y':.0}
	        				Label: 
	        					text: "Number of photons:"
	        					markup: True
	        					pos_hint:{'x': .7, 'y':.3}
	        			FloatLayout:
	        				pos_hint:{'x': 0, 'y':.0}
	        				Button:
	        					text:"-"
	        					size_hint: (0.3,0.2)
	        					pos_hint:{'x': 1.2, 'y':.7}
	        					on_release: root.add_photons(-1000)
        				FloatLayout:
        					pos_hint:{'x': 0, 'y':.0}
	        				Label:
	        				    id: n_label
	        					text: "1000"
	        					markup: True
	        					size_hint: (0.3,0.2)
	        					pos_hint:{'x': 0.7, 'y':.7}
        				FloatLayout:
        					pos_hint:{'x': 0, 'y':.0}
	        				Button:
	        					text: "+"
	        					size_hint: (0.3,0.2)
	        					pos_hint:{'x': .2, 'y':.7}
	        					on_release: root.add_photons(1000)
        			BoxLayout:
        				orientation: "horizontal"
        				FloatLayout:
        					pos_hint:{'x': 0, 'y':.0}
		        			Label:
		        				pos_hint:{'x': 0.1, 'y':.5}
		        				text: "Number of repetitions\n of the experiment:"

		        		FloatLayout:
		        			TextInput:
		        			    id:reps
		        				size_hint: (0.4,.5)
		        				pos_hint:{'x': 0.3, 'y':.7}
		        				multiline:False
		        				on_text_validate:print(reps.text)
	        	BoxLayout:
	        		orientation:"vertical"
	        		Label:
	        			text:"[b]Polarizer angles:[/b]"
	        			markup: True
	        		Label: 
	        			text: "angle of polarizer 1: \u03B1 (deg)"
	        		Slider:
	        			id:slider1
	        			min: -180
				    	max: 180
				    	step: 1
				    	on_value:label_s1.text=str(self.value)
				    Label:
				        id:label_s1
				        text:"0"
				    Label: 
	        			text: "angle of polarizer 2: \u03B2 (deg)"
				    Slider:
	        			id:slider2
	        			min: -180
				    	max: 180
				    	step: 1
				    	on_value:label_s2.text=str(self.value)#canvia el valor de la label sota el slider
				    Label:
				        id:label_s2
				        text:"0"

		        BoxLayout:
		        	orientation:"vertical"
		        	BoxLayout:
			        	orientation: "horizontal"
			        	FloatLayout:
				        	CheckBox:
				        		id: graph
				        		size_hint:(00.1,0.1)
				        		pos_hint:{'x': 0, 'y':0.4}
				        	Label:
				        		text: "Generate graph:\n coincidences vs \u03B2"
				        		pos_hint:{'x': -0.1, 'y':0}
		        	BoxLayout:
			        	orientation: "horizontal"
			        	FloatLayout:
				        	CheckBox:
				        		id: table
				        		size_hint:(0.1,0.1)
				        		pos_hint:{'x': 0, 'y':0.4}
				        	Label:
				        		text: "Generate table"
				        		pos_hint:{'x': -0.1, 'y':0}
				    Button:
			        	text: "Run"
			        	id: run_b
			        	on_release: root.runexp()
		        			

        TabbedPanelItem: #creem la 2a pestanya
        	text: "[b]HVT[/b]"
        	markup: True

        TabbedPanelItem:
        	text: "[b]Experiment\n Sketch[/b]"
        	markup: True




