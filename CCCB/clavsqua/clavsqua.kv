#:import Factory kivy.factory.Factory
<clavsqua>:
    panel1: Panel1_id
    panel2: Panel2_id

    startstopbut_cla: start_stop_cla_id

    heightslide_cla: height_cla_slide

    kslide_cla: k_cla_slide

    timeslide_qua: time_qua_slide
    timeslide_cla: time_cla_slide

    poslide_cla: pos_cla_slide

    vel_btn_cla: vel_cla_but

    progressbar_cla: pbar_cla

    compu_button_cla: compu_cla_but

    demo1_button_qua: demo1_qua_but
    demo2_button_qua: demo2_qua_but
    demo3_button_qua: demo3_qua_but

    reset_cla_button: reset_cla_but


    TabbedPanel:
        size_hint: 1, 1
        do_default_tab: False

        TabbedPanelItem:
            text: "[b]Classical[/b]"
            markup: True

            BoxLayout:
                orientation: "vertical"

                BoxLayout:
                    size_hint_y: 0.75
                    orientation: "horizontal"

                    BoxLayout:
                        id: Panel1_id
                        size_hint_x: 0.85

                    BoxLayout:
                        orientation: "vertical"
                        size_hint_x: 0.15

                        Label:
                            text: "[b]Ground[/b]"
                            markup: True
                            font_size: wall_cla_label.font_size + 1
                            size_hint_y: 0.1
                            halign: 'center'
                            valign: 'middle'

                        BoxLayout:
                            orientation: "horizontal"

                            BoxLayout:
                                orientation: "vertical"

                                Label:
                                    id: wall_cla_label
                                    text: "[b]Wall[/b] \n h = " + str(height_cla_slide.value).ljust(3)[:3]
                                    size_hint_y: 0.1
                                    font_size: self.height*0.45
                                    halign: 'center'
                                    valign: 'middle'
                                    markup: True

                                Slider:
                                    id: height_cla_slide
                                    orientation: "vertical"
                                    size_hint_y: 0.9
                                    cursor_width: self.height*0.1
                                    cursor_height: self.height*0.1
                                    min: 0.001
                                    max: 1
                                    on_touch_move: root.plotground()
                                    on_touch_up: root.plotground()

                            BoxLayout:
                                orientation: "vertical"

                                Label:
                                    text: "[b]Well[/b] \n k = " + str(k_cla_slide.value).ljust(3)[:3]
                                    size_hint_y: 0.1
                                    font_size: wall_cla_label.font_size
                                    halign: 'center'
                                    valign: 'middle'
                                    markup: True

                                Slider:
                                    id: k_cla_slide
                                    orientation: "vertical"
                                    size_hint_y: 0.9
                                    cursor_size: height_cla_slide.cursor_size
                                    min: 0
                                    max: 1
                                    on_touch_move: root.plotground()
                                    on_touch_up: root.plotground()

                BoxLayout:
                    orientation: "horizontal"
                    size_hint_y: 0.25

                    BoxLayout:
                        orientation: "vertical"
                        size_hint_x: 0.85

                        BoxLayout:
                            size_hint_y: 0.2

                            Label:
                                id: time_label_cla
                                text: "[b]  Time:[/b]   t = " + '%1.1f' % time_cla_slide.value + " s"
                                font_size: self.height*0.65
                                size_hint_x: 0.25
                                text_size: self.size
                                halign: 'left'
                                valign: 'middle'
                                markup: True

                            Label:
                                text: '%1.1f' % time_cla_slide.min
                                font_size: time_label_cla.font_size
                                size_hint_x: 0.065
                                halign: 'center'
                                valign: 'middle'

                            Slider:
                                id: time_cla_slide
                                size_hint_x: 0.70
                                cursor_width: self.y/5
                                cursor_height: self.y/5
                                cursor_image: "pics/cursor.png"
                                cursor_disabled_image: "pics/cursor.png"
                                min: 0
                                max: root.tmax_cla
                                value_track: True
                                value_track_color: [1, 0, 0, 1]
                                on_touch_up: root.plotball(self.value)
                                on_touch_move: root.plotball(self.value)

                            Label:
                                text: '%1.1f' % time_cla_slide.max
                                font_size: time_label_cla.font_size
                                size_hint_x: 0.075
                                halign: 'center'
                                valign: 'middle'

                        BoxLayout:
                            size_hint_y: 0.8
                            orientation: "horizontal"

                            Button:
                                id: compu_cla_but
                                size_hint_x: 0.15
                                text: "Compute"
                                font_size: wall_cla_label.font_size + 1
                                background_normal: "pics/cogwheelactive.png"
                                background_disabled_normal: "pics/cogwheel.png"
                                on_press: root.triggercompute_cla()

                            BoxLayout:
                                size_hint_x: 0.85
                                orientation: "vertical"

                                ProgressBar:
                                    id: pbar_cla
                                    size_hint_y: 0.2
                                    max: 100

                                BoxLayout:
                                    size_hint_y: 0.8
                                    orientation: "horizontal"

                                    TabbedPanel:
                                        tab_height: self.height*0.2
                                        tab_width: self.width/4.2
                                        size_hint: 0.64, 1
                                        do_default_tab: False

                                        TabbedPanelItem:
                                            text: "Init. Cond."

                                            BoxLayout:
                                                orientation: "vertical"

                                                BoxLayout:
                                                    orientation: "horizontal"
                                                    size_hint_y: 1/2.

                                                    Label:
                                                        text: "[b]  Position:[/b]   x = " + '%1.1f' % pos_cla_slide.value + " m"
                                                        font_size: time_label_cla.font_size - 1
                                                        size_hint_x: 0.5
                                                        text_size: self.size
                                                        halign: 'left'
                                                        valign: 'center'
                                                        markup: True

                                                    Slider:
                                                        id: pos_cla_slide
                                                        size_hint_x: 0.5
                                                        cursor_size: self.height*0.9, self.height*0.9
                                                        min: -2.5
                                                        max: 2.5
                                                        on_touch_up: root.change_xo_cla()
                                                        on_touch_move: root.change_xo_cla()


                                    Button:
                                        id: vel_cla_but
                                        size_hint_x: 0.12
                                        font_size: wall_cla_label.font_size + 2
                                        background_normal: "pics/grey.png"
                                        background_down: "pics/blue.png"
                                        background_disabled_normal: "pics/greydisabled.png"
                                        on_press: root.velocity_cla_btn()

                                    Button:
                                        id: start_stop_cla_id
                                        size_hint_x: 0.12
                                        background_disabled_normal: "pics/playdisabled.png"
                                        on_press: root.start_stop_cla()

                                    Button:
                                        id: reset_cla_but
                                        size_hint_x: 0.12
                                        background_normal: "pics/reset.png"
                                        background_down: "pics/resetblue.png"
                                        background_disabled_normal: "pics/resetdisabled.png"
                                        on_press: root.reset_cla_btn()



        TabbedPanelItem:
            text: "[b]Quantum[/b]"
            markup: True

            BoxLayout:
                orientation: "vertical"

                BoxLayout:
                    size_hint_y: 0.85
                    orientation: "horizontal"

                    BoxLayout:
                        id: Panel2_id
                        size_hint_x: 1


                BoxLayout:
                    orientation: "horizontal"
                    size_hint_y: 0.15

                    BoxLayout:
                        orientation: "vertical"
                        size_hint_x: 0.85

                        BoxLayout:
                            size_hint_y: 0.30

                            Label:
                                id: time_label_qua
                                text: "[b]  Time:[/b]   t = " + '%1.1f'%time_qua_slide.value+" fs"
                                font_size: self.height*0.65
                                size_hint_x: 0.25
                                text_size: self.size
                                halign: 'left'
                                valign: 'middle'
                                markup: True

                            Label:
                                text: '%1.1f' % time_qua_slide.min
                                font_size: time_label_qua.font_size
                                size_hint_x: 0.065
                                halign: 'center'
                                valign: 'middle'

                            Slider:
                                id: time_qua_slide
                                size_hint_x: 0.70
                                cursor_width: self.y/4
                                cursor_height: self.y/4
                                cursor_image: "pics/cursor.png"
                                cursor_disabled_image: "pics/cursor.png"
                                min: 0
                                max: root.tmax_qua
                                value_track: True
                                value_track_color: [1, 0, 0, 1]
                                on_touch_up: root.plotpsi(self.value)
                                on_touch_move: root.plotpsi(self.value)

                            Label:
                                text: '%1.1f' % time_qua_slide.max
                                font_size: time_label_qua.font_size
                                size_hint_x: 0.075
                                halign: 'center'
                                valign: 'middle'

                        BoxLayout:
                            size_hint_y: 0.7
                            orientation: "horizontal"

                            Button:
                                id: demo1_qua_but
                                font_size: time_label_qua.font_size
                                text: "Above the peak"
                                on_press: root.demo1_qua_btn()

                            Button:
                                id: demo2_qua_but
                                font_size: time_label_qua.font_size
                                text: "On the peak"
                                on_press: root.demo2_qua_btn()

                            Button:
                                id: demo3_qua_but
                                font_size: time_label_qua.font_size
                                text: "Beneath the peak"
                                on_press: root.demo3_qua_btn()
